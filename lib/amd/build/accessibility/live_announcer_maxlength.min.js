define("core/accessibility/live_announcer_maxlength",["exports","core/str","core/prefetch","core/accessibility/live_announcer"],(function(_exports,_str,_prefetch,_live_announcer){var obj;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_live_announcer=(obj=_live_announcer)&&obj.__esModule?obj:{default:obj},(0,_prefetch.prefetchStrings)("tiny_media",["maxlengthreached"]);class _class{constructor(){_defineProperty(this,"handleInputEvent",(async event=>{const{target:target}=event;if(!target.hasAttribute("maxlength")||!["INPUT","TEXTAREA"].includes(target.tagName))return;const maxLength=parseInt(target.getAttribute("maxlength"),10);if(target.value.length>=maxLength){const message=await(0,_str.getString)("maxlengthreached","core",maxLength),reAnnouncement=!0;_live_announcer.default.updateAnnouncer(message,reAnnouncement)}})),this.registerEvents()}static init(){this.isInitialized||(this.isInitialized=!0,new this)}registerEvents(){document.addEventListener("keyup",this.handleInputEvent)}}return _exports.default=_class,_defineProperty(_class,"isInitialized",!1),_exports.default}));

//# sourceMappingURL=live_announcer_maxlength.min.js.map